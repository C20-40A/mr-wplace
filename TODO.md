[機能改善]
◎B.追加した画像の後から修正可能に（優先度：低～中、追加工数中程度を想定）
画像詳細画面（画像 2 枚目）に、おいて画像の修正項目は座標のみですが、サイズ変更等ができると嬉しいです。
（すでに描かれた絵に対して合うような設計図を描くための調整を想定）
現状の機能で調整をしようとすると、何度もギャラリーの追加/削除を繰り返すために作業が煩雑になります。
実装上の問題として、追加された画像データを保持し続けないといけなくなるため、工数は高めだと認識しています。

# メイン

- データセーブモード
- 画像のレイヤー　メイン
- フォント追加するんだった
- カウントおかしい気がする完成しているのに 50%?
- マップピンテキストは描画ではなく画像がいい
- モバイルでカラーフィルター modal 見切れる
- 距離を計測する機能
- 画像削除したとき、描画も消す
- 画像追加が safari で使えない?
- フィルターするとカウントがリセットされる
- 高速化のため、いくつかの map を record にする
- ギャラリーの画像選択画面は、テキスト描画みたいにもうちょい強化したい
  - 画像追加の modal の UI 更新
  - レイヤーとかほしい
- wplace-studio-snapshot-tmp 不要では？
- /me が取れないパターンが多すぎる
- マップピンの上にボタンがあってもいいかも
- 描画を最小限 option できるようにする(更新停止,背景比較 OFF,フィルターなし)
- ギャラリーの画像ってリサイズ後の表示している？アイコン用じゃないと重そう
- タイルの GoogleDrive とのリンク
- 画像にこそ色統計ほしいなぁ

# バグ

- ギャラリーの非表示ボタンなどを押した後、追加ボタンが押せなくなる
- テキスト描画＋フィルター周り
- ギャラリーから画像を削除したとき、空のアイテムが残る
- /me がないときは所持色のフィルターが効いていない

# マイナー

- ◎C.座標入力をクリック指定可能に（優先度：低、追加工数中程度を想定） Skrik Marble と同様に、座標をクリックで指定できればうれしいです。が、頻度は高くないので優先度は低めです。
- カラー統計の挙動 - いままで取得したタイルでカウントしているが「最も近いテンプレート」の統計のみでよいかもしれん.map instance で center とかとる？
- タイル分析に、現在タイルとの比較/変化率がほしいところ
- GPU レンダリング失敗したら、alert 出して、CPU の config に切り替えて保存する
- 1796, 903, 841, 359 形式でも入力できるようにしたい
- やっぱ WebGPU サポートしたい
- アラームの通知しきい値を任意にしたい
- メディアクエリの function を util に切り出す
- グレー部分が何塗っても間違い判定される可能性ない？
- タイルやブックマークにタグあってもいいかも
- ギャラリーの画像ミスって押すとダルい。以前の位置とかあってもいいかも
- bookmark の date の保存形式がまさかの string(変換後)なのなんとかしたい
- 直接 map の canvas をいじりたい
  - リアルタイムにスムーズな描画ができる
  - スポイト中の色をリアルタイムで強調表示できそう
  - スポイト中の色以外を半透明にするとか
- 友人帳
- ダークモードのとき、UI もダークモードにしたい
- テキストの色変更
- テキスト移動の矢印を十字配置にする
- ImageGridComponent もう分けていいんじゃね
- bookmark の名称変えられるようにしたい
- タイルの差分率を表示
- タイルの合計容量
- タイルをまとめて export
- 5x5 の pixel 対応して、ピクセルを枠で囲うことを可能にする
- ストア用画像をもうちょいよくする
- filter 適用中に描画中モーダル表示
- ui.ts 系は functional のほうがいいかもしれない
- お気に入りモーダルを整理可能にする
- Transparent の色が、既存の色を上書きできない
  - 透明についても、テンプレート対象にするオプションつける？
- ギャラリーから、画像に移動したとき、即座に描画されない？
- 文字入力モーダルを初期で選択状態に変更
- UI の描画方法を統合する
- 大きな範囲の tile が異なると alert を出す
- スナップショットを削除しても、タイルの設定は残る
- 描画が重複しているときアラート。フィルターがすべて OFF になっているとアラート
- ギャラリー画像の入れ替えもあってもいいかも
- Current Charges が少しだけ手持ちのものとずれている問題
- font で Papyrus と wingdings 対応
  - open font でいいのが少ない
  - https://fontstruct.com/gallery/tag/4488/Wingdings
  - noto emoji もやりたい
- 道路引くツール
- PC のブックマーク一覧を 4 行ぐらいにしたい。が、その tailwind のメディアクエリがないから、設定が面倒
- exclude_globs にメインのもの以外含める？
  - all_frames false (デフォルト)系は false．まあデフォルトが false だから不要か
- dark/light テーマの i18n 不要になった

# DONE v1.8.0

- skirk marble の template json を import 対応
- ギャラリー追加時（画像 1 枚目）に座標入力欄の追加
- fix: 明暗の zindex が modal の上に表示される問題
- fix: ダークモードの不足部分

# DONE v1.7.2

- 土地検索https://nominatim.org/ が利用
- tag も export 対象にする
- fix:bookmarks の 🌐 Coordinate Jumper がスクロールしてしまう
- タグ順はアクセスしたタグ順にする
- content.js:1793 🧑‍🎨 : Paint stats: displayed on all color buttons が大量に出ている
- 色 pick に残りピクセル表示しているが、0 のときは非表示にする
- ハイコントラスト対応
- よりシンプルなダークテーマ
- お気に入りにタグ設定できるようにした
- 1 チャンクのアーカイブ画像から、特定の色グループのピクセルが何ピクセルあるかカウントする
- paint 画面の色のアイテムに残りピクセル表示
- マップ移動で local ストレージ更新

# DONE v1.6.8

- 複数タイルを取得してマージする機能
- スナップショット詳細画面のボタン一覧は wrap にする
- Chrome 拡張を Safari 拡張に convert、ログをみたところ「Safari は ImageDecoder をサポートしていない」ようだ
  - モバイルで、色の進捗パーセントが表示されない
- リファクタ(DI 化)
- ギャラリーの移動ボタン押したら、modal 閉じる
- カラーフィルターの UI 向上
- ブックマークの UI 向上

# DONE v1.6.5

- 文言調整
- ピクセル文字調整
- 画像サイズ 横 x 縦　で設定可能にする
- 画像編集も GPU/CPU 切り替えしたい
- モバイルの画像詳細の UI 調整
- ディザリングの UI をもっとコンパクトにする
- src/features/gallery/routes/image-editor/canvas-processor.ts の error
- webgl 非対応だと、描画できない
- 画像編集にディザリング追加（ベイヤーディザリング）

# DONE v1.6.0

- Auto color picker は disable にした(コナミコマンドで有効になってしまう)
- 起動が遅い(/me, /tile 取得が間に合っていない場合がある)
- 不要なキャンバス化の処理を削除し、高速化
- フィルターの並び替えまわりのバグ修正
- 画像編集も GPU で高速化
- フィルター並び替えすると、もっかいフィルターボタンが押せない問題
- タイルの jump 機能を bookmark に設置
- パレットのソート順が保持されない
- パレットのソートすると、ソートが押せなくなる
- ブックマーク UI 横並びにする
- 大きな画像が下のタイルにまたがると、表示されない問題
- pixel 計算が累積していたので修正
- 何も描かれていない場所に描画しようとすると、1x1 ピクセルの背景 blob がやってきて、画像が描画されない?
- 描画前の画像を処理してから、保管し、それをタイルに draw する
- 補助色モードでしか、color count されないから、もう統一してしまう。
- カラーフィルターすべて OFF にすると、すべて ON になる
- ブックマークを使った順で並び替え可能にする
- 透過ピクセルの設置がやたら遅くなった?
- マップジャンプは、smooth fly to じゃなくて、map インスタンスを使った即ジャンプも可能にする
- モバイルの bookmark 一覧を 2 行ぐらいにしたい
- ギャラリーのパーセント表示、残りのピクセル数と完成までの時間表示
- sort が most missing のとき、カラーフィルターが押せない
- パレットの進捗別並び替え
- 現在何パーセントの進捗か表示
- 画像は、tile-pixel 指定できるようにする
- 「現在のタイルを保存」ボタンがあふれる
- 位置情報モーダルに座標表示
- サイズの大きい画像を入力したときは、モーダルだして、小さくするか聞く
- 多分気づかないから、カレンダーボタンに文字入れる
- モバイルの表示修正

# DONE v1.5.0

- 言語設定が、初期状態で、chrome の言語になってないきがする
- テキストを描画停止や移動したい
- 「持っている色のみ」の filter
- 入力文字を描画したい
- シェアした画像を読み込んでも、登録されない
- 同じタイルの描画が 9 回も呼ばれている問題がある
- マップをダークテーマに切り替え可能にする

# DONE v1.4.4

- Select image -> image editor -> ここで select image に戻りたい
- 上部のアラートタグが表示されない場合が多い
  - fetch で解決
- 描画しようとしても、No images for drawing.で、画像が表示されない
- 「タイル」の名称が日本語のまま
- タイル描画までのフローが難しい
- タイル一覧もっと広く
- パフォーマンス改善
- enhance 対象が多いと、パフォーマンスが極めて悪くなる
- image editor の画像処理を強化
- color filter の enable all/ disable all を i18n
- スナップショット詳細に削除ボタンあってもいい
- スナップショットの UI 改善
- アイコンを pixel art にする
- ギャラリー画像＋位置を export して、複数人で編集できる機能
  - シェアボタン。tile+pixel の座標表示。lat lng のリンク表示。説明表示
- タイルの import, 時刻が import されてないというより、「ダウンロードした時刻」になっている問題
- 表示中の色を Enhance する
- 現在選択中の色を filter に表示
- image import で color pick
- 画像読み込み時の color filter

# DONE v1.3.0

- notification
- フルチャージまでの時間
- next level までの pixel のバッジ少しわかりにくい

# DONE v1.2.2

- タイルの描画状態は、storage 保存にする
- window.mrWplace?.tileOverlay;のような方式は微妙

# DONE v1.2.1

- レベルアップまでの残りの pixel 数
- skirk marble 相当の機能
  - 描画画像のカラーフィルター

# DONE v1.2.0

- Tile の import 機能
- 言語設定がポルトガル語だと、セレクタが動作しない。おそらく、Title が変化しているため。
- 一度、タイル一覧を表示してしまうと、次以降タイムマシンで前回の位置のスナップショットが表示される
- map 移動モードの option 化
- maplibre-gl のインスタンスを取得する
  - MyLocation ボタンのイベントリスナーからたどることは可能。（　 document.querySelector("div.absolute.bottom-3.right-3.z-30").childNodes[0].\_\_click[3].v 　）
  - "#map"に`__click` はなかった。 getEventListeners($0) で調べることは可能
  - document.querySelector(".maplibregl-canvas")
- goTo は map のインスタンス使えるかも
- selector 失敗したとき用の、予備の UI

# DONE v1.1.0

- 言語変更後に即座に適用
- タイルに名称を設定できると便利
- タイムマシン機能で描画中のタイルを Disable にできない
- タイムスタンプの描画できてない？
- タイルまたぎの描画できてない？
  - おそらく複数描画の影響。描画を整理したほうがいいかもしれない。
  - 描画する候補は、ギャラリーではなく、別の描画用の list を作り、そこで管理する。
- ギャラリーのルーティングができてない
- ある地点のスナップショットを表示（ここにはスナップショットがあり、スナップショット一覧が表示される）　 → 　そして、別のスナップショットがない場所のスナップショット一覧を表示しようとする → 期待する動作：スナップショットがないという表示。実際の動作：前回表示した別の地点のスナップショット一覧が表示される
- 画像エディタに https://pepoafonso.github.io/color_converter_wplace/index.html へのリンク
- src/features/bookmark/import-export.ts の i18n
- お気に入りがない場合の UI が少しずれている
- 現在位置のスナップショットから、id を消し、スナップショットダウンロードする場合のファイル名を変更
- スナップショットの描画が被る場合がある
- 描画中にスナップショットを削除すると、描画がリセットできなくなる問題の修正
- i18n を増やす
